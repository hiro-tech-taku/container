# Example snmpd.conf for multiple upstream SNMP proxies
# Replace IPs/communities to match your environment.

# Listen on all interfaces UDP/161
agentAddress udp:0.0.0.0:161

# Basic identity
sysLocation Docker SNMP Proxy
sysContact admin@example.com

# Read-only community for clients of this proxy
# For stronger security, replace 'default' with a CIDR or host (e.g., 192.168.0.0/24)
rocommunity my-public default

############################################################
# Upstream proxy targets (SNMPv2c)
############################################################

# Forward MIB-2 subtree to hostA (example: 10.0.0.5)
proxy -v 2c -c public 10.0.0.5:161 .1.3.6.1.2.1

# Forward enterprise subtree to hostB (example: 10.0.0.6)
proxy -v 2c -c public 10.0.0.6:161 .1.3.6.1.4.1

# You can add more proxy lines for other subtrees/hosts as needed.
# Make sure subtrees do not overlap ambiguously, or use contexts.

############################################################
# (Optional) Context-based proxying examples
# Uncomment these and comment out the OID-based proxies above
# if you prefer selecting upstream by SNMP context name.
############################################################
# proxy -Cn hostA -v 2c -c public 10.0.0.5:161 .1
# proxy -Cn hostB -v 2c -c public 10.0.0.6:161 .1
# Then query with: snmpwalk -v2c -c my-public -n hostA <proxy-ip> .1.3.6.1.2.1

# Reduce noise in logs
dontLogTCPWrappersConnects yes

